# language: zh-TW
功能: 寵物管理模組
  作為收容所管理員和使用者
  我希望能夠管理和瀏覽寵物資訊
  以便進行寵物領養

  背景:
    假如 系統中存在以下使用者:
      | 角色         | 使用者名稱 |
      | 收容所管理員 | admin      |
      | 一般使用者   | user       |

  # ============================================================================
  # 寵物基本資料管理
  # ============================================================================

  場景: 管理員新增寵物資料
    假如 我以 "admin" 身份登入系統
    當 我進入寵物管理頁面
    並且 我點擊 "新增寵物" 按鈕
    並且 我填寫以下資料:
      | 欄位 | 值         |
      | 名稱 | 小白       |
      | 種類 | 狗         |
      | 性別 | 公         |
      | 年齡 | 2          |
      | 品種 | 米克斯     |
      | 體重 | 12         |
      | 毛色 | 白色       |
      | 描述 | 個性溫馴   |
    並且 我上傳照片 "小白.jpg"
    並且 我點擊 "儲存" 按鈕
    那麼 我應該看到訊息 "寵物資料已成功新增"
    並且 寵物列表中應該包含 "小白"

  場景: 新增寵物時缺少必填欄位
    假如 我以 "admin" 身份登入系統
    當 我嘗試新增寵物但只填寫:
      | 欄位 | 值   |
      | 名稱 | 小黑 |
      | 種類 | 貓   |
    並且 我點擊 "儲存" 按鈕
    那麼 我應該看到錯誤訊息 "請填寫所有必填欄位"
    並且 以下欄位應該被標記為錯誤:
      | 性別 |
      | 年齡 |

  場景: 管理員編輯寵物資料
    假如 我以 "admin" 身份登入系統
    並且 系統中有寵物 "小白"
    當 我進入寵物 "小白" 的詳細頁面
    並且 我點擊 "編輯" 按鈕
    並且 我修改以下欄位:
      | 欄位 | 新值 |
      | 年齡 | 3    |
      | 體重 | 15   |
    並且 我點擊 "儲存" 按鈕
    那麼 我應該看到訊息 "寵物資料已更新"
    並且 寵物 "小白" 的年齡應該顯示為 "3"

  場景: 管理員刪除寵物
    假如 我以 "admin" 身份登入系統
    並且 系統中有寵物 "小白"
    當 我進入寵物 "小白" 的詳細頁面
    並且 我點擊 "刪除" 按鈕
    那麼 我應該看到確認對話框 "確定要刪除此寵物嗎？"
    當 我點擊 "確定"
    那麼 我應該看到訊息 "寵物已刪除"
    並且 寵物列表中不應該包含 "小白"

  # ============================================================================
  # 寵物瀏覽與篩選
  # ============================================================================

  場景: 使用者瀏覽寵物列表
    假如 我以 "user" 身份登入系統
    並且 系統中有以下寵物:
      | 名稱 | 種類 | 性別 | 年齡 |
      | 小白 | 狗   | 公   | 2    |
      | 咪咪 | 貓   | 母   | 1    |
      | 大黃 | 狗   | 公   | 5    |
    當 我進入寵物列表頁面
    那麼 我應該看到 3 隻寵物
    並且 每隻寵物應該顯示照片、名稱、種類、性別、年齡

  場景: 依種類篩選寵物
    假如 我以 "user" 身份登入系統
    並且 系統中有以下寵物:
      | 名稱 | 種類 | 性別 | 年齡 |
      | 小白 | 狗   | 公   | 2    |
      | 咪咪 | 貓   | 母   | 1    |
      | 大黃 | 狗   | 公   | 5    |
    當 我進入寵物列表頁面
    並且 我選擇種類篩選 "狗"
    那麼 我應該看到 2 隻寵物
    並且 我應該看到 "小白" 和 "大黃"
    但是 我不應該看到 "咪咪"
    並且 我應該看到 "找到 2 隻狗"

  場景: 依性別篩選寵物
    假如 我以 "user" 身份登入系統
    並且 系統中有以下寵物:
      | 名稱 | 種類 | 性別 | 年齡 |
      | 小白 | 狗   | 公   | 2    |
      | 咪咪 | 貓   | 母   | 1    |
      | 大黃 | 狗   | 公   | 5    |
    當 我進入寵物列表頁面
    並且 我選擇性別篩選 "母"
    那麼 我應該只看到 "咪咪"

  場景: 依年齡範圍篩選寵物
    假如 我以 "user" 身份登入系統
    並且 系統中有以下寵物:
      | 名稱 | 種類 | 性別 | 年齡 |
      | 小白 | 狗   | 公   | 2    |
      | 咪咪 | 貓   | 母   | 1    |
      | 大黃 | 狗   | 公   | 5    |
    當 我進入寵物列表頁面
    並且 我選擇年齡範圍 "1-3歲"
    那麼 我應該看到 2 隻寵物
    並且 我應該看到 "小白" 和 "咪咪"
    但是 我不應該看到 "大黃"

  場景: 組合多個篩選條件
    假如 我以 "user" 身份登入系統
    並且 系統中有以下寵物:
      | 名稱 | 種類 | 性別 | 年齡 |
      | 小白 | 狗   | 公   | 2    |
      | 小花 | 狗   | 母   | 2    |
      | 咪咪 | 貓   | 母   | 1    |
      | 大黃 | 狗   | 公   | 5    |
    當 我進入寵物列表頁面
    並且 我選擇種類篩選 "狗"
    並且 我選擇性別篩選 "公"
    並且 我選擇年齡範圍 "1-3歲"
    那麼 我應該只看到 "小白"

  場景: 查看寵物詳細資料
    假如 我以 "user" 身份登入系統
    並且 系統中有寵物 "小白" 包含以下資料:
      | 名稱 | 小白           |
      | 種類 | 狗             |
      | 性別 | 公             |
      | 年齡 | 2              |
      | 品種 | 米克斯         |
      | 體重 | 12             |
      | 毛色 | 白色           |
      | 描述 | 個性溫馴活潑   |
    當 我進入寵物列表頁面
    並且 我點擊寵物 "小白"
    那麼 我應該看到所有詳細資訊
    並且 我應該看到寵物照片
    並且 我應該看到 "申請領養" 按鈕

  場景: 一般使用者無法編輯或刪除寵物
    假如 我以 "user" 身份登入系統
    並且 系統中有寵物 "小白"
    當 我進入寵物 "小白" 的詳細頁面
    那麼 我不應該看到 "編輯" 按鈕
    並且 我不應該看到 "刪除" 按鈕
    但是 我應該看到 "申請領養" 按鈕
