# ğŸ¾ å¯µç‰©é ˜é¤Šç³»çµ± - Selenium è‡ªå‹•åŒ–æ¸¬è©¦

ä½¿ç”¨ **Selenium WebDriver** å’Œ **POM (Page Object Model)** æ¶æ§‹é€²è¡Œè‡ªå‹•åŒ–æ¸¬è©¦ã€‚

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
selenium/
â”œâ”€â”€ pages/                      # Page Objects (UI é‚è¼¯å±¤)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ pet_list_page.py       # å¯µç‰©åˆ—è¡¨é é¢
â”‚   â””â”€â”€ pet_detail_page.py     # å¯µç‰©è©³ç´°é é¢
â”œâ”€â”€ test_pet_adoption.py       # æ¸¬è©¦è…³æœ¬ (æ“ä½œé‚è¼¯å±¤)
â”œâ”€â”€ requirements.txt           # Python ä¾è³´å¥—ä»¶
â””â”€â”€ README.md                  # èªªæ˜æ–‡ä»¶
```

## ğŸ—ï¸ POM æ¶æ§‹èªªæ˜

æ­¤å°ˆæ¡ˆæ¡ç”¨ **Page Object Model (POM)** è¨­è¨ˆæ¨¡å¼ï¼š

- **UI é‚è¼¯å±¤**: `pages/` ç›®éŒ„ä¸­çš„ Page Objects
  - è² è²¬å®šä½å…ƒç´  (locators)
  - æä¾›é é¢æ“ä½œæ–¹æ³•
  - å°è£é é¢çš„ UI ç´°ç¯€

- **æ“ä½œé‚è¼¯å±¤**: `test_pet_adoption.py`
  - å®šç¾©æ¸¬è©¦æµç¨‹
  - èª¿ç”¨ Page Objects çš„æ–¹æ³•
  - é€²è¡Œæ–·è¨€é©—è­‰

### å„ªé»
- âœ… ç¨‹å¼ç¢¼å¯é‡ç”¨æ€§é«˜
- âœ… æ˜“æ–¼ç¶­è­·ï¼ˆUI æ”¹è®Šæ™‚åªéœ€ä¿®æ”¹ Page Objectï¼‰
- âœ… æ¸¬è©¦é‚è¼¯æ¸…æ™°æ˜“è®€
- âœ… æ¸›å°‘é‡è¤‡ä»£ç¢¼

## ğŸš€ å®‰è£æ­¥é©Ÿ

### 1. å®‰è£ Python ä¾è³´

```bash
cd selenium
pip install -r requirements.txt
```

ä¾è³´å¥—ä»¶ï¼š
- `selenium`: WebDriver æ ¸å¿ƒå¥—ä»¶
- `webdriver-manager`: è‡ªå‹•ç®¡ç† ChromeDriver

### 2. ç¢ºèªç’°å¢ƒ

- âœ… Python 3.7+
- âœ… Google Chrome ç€è¦½å™¨
- âœ… æ‡‰ç”¨ç¨‹å¼éœ€åœ¨ `http://localhost:3000` é‹è¡Œ

## ğŸ§ª åŸ·è¡Œæ¸¬è©¦

### å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼

```bash
# åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„
npm run dev
```

### åŸ·è¡Œæ¸¬è©¦è…³æœ¬

```bash
cd selenium
python test_pet_adoption.py
```

## ğŸ“‹ æ¸¬è©¦æµç¨‹

æ¸¬è©¦æœƒè‡ªå‹•åŸ·è¡Œä»¥ä¸‹æ“ä½œï¼š

1. **é€²å…¥å¯µç‰©åˆ—è¡¨é é¢** (`/pet`)
2. **é»æ“Šã€ŒæŸ¥çœ‹è©³ç´°è³‡è¨Šã€æŒ‰éˆ•**
3. **é€²å…¥å¯µç‰©è©³ç´°é é¢** (`/pet/[pet_id]`)
4. **é»æ“Šã€Œæˆ‘æƒ³é ˜é¤Šã€æŒ‰éˆ•**
5. **é©—è­‰ç¢ºèªå°è©±æ¡†æ˜¯å¦é¡¯ç¤º**
6. **é»æ“Šå°è©±æ¡†ä¸­çš„ã€Œç¢ºèªé ˜é¤Šã€æŒ‰éˆ•**
7. **é©—è­‰æ˜¯å¦é¡¯ç¤ºæ„Ÿè¬é ˜é¤Šè¨Šæ¯** (åŒ…å«ã€Œæ„Ÿè¬ã€é—œéµå­—)

## ğŸ“¸ éŒ¯èª¤è™•ç†

æ¸¬è©¦å¤±æ•—æ™‚æœƒè‡ªå‹•æˆªåœ–ï¼š
- `test_failure.png`: æ–·è¨€å¤±æ•—æ™‚çš„æˆªåœ–
- `test_error.png`: ç™¼ç”Ÿç•°å¸¸æ™‚çš„æˆªåœ–

## ğŸ”§ é€²éšè¨­å®š

### ä½¿ç”¨ç„¡é ­æ¨¡å¼ (Headless Mode)

ç·¨è¼¯ `test_pet_adoption.py` ä¸­çš„ `setup_driver()` å‡½æ•¸ï¼š

```python
def setup_driver():
    chrome_options = Options()
    chrome_options.add_argument('--headless')  # å–æ¶ˆè¨»è§£é€™è¡Œ
    # ...
```

### èª¿æ•´ç­‰å¾…æ™‚é–“

æ¸¬è©¦ä¸­ä½¿ç”¨ `time.sleep()` ä½œç‚ºç°¡å–®çš„ç­‰å¾…ï¼Œå¯¦éš›æ‡‰ç”¨å¯æ”¹ç”¨ WebDriverWaitï¼š

```python
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

WebDriverWait(driver, 10).until(
    EC.presence_of_element_located((By.ID, "element_id"))
)
```

## ğŸ“ Page Objects èªªæ˜

### PetListPage
- `navigate()`: å°èˆªåˆ°å¯µç‰©åˆ—è¡¨é 
- `click_first_view_details_button()`: é»æ“Šç¬¬ä¸€å€‹ã€ŒæŸ¥çœ‹è©³ç´°è³‡è¨Šã€æŒ‰éˆ•
- `get_pet_card_count()`: ç²å–å¯µç‰©å¡ç‰‡æ•¸é‡

### PetDetailPage
- `click_adopt_button()`: é»æ“Šã€Œæˆ‘æƒ³é ˜é¤Šã€æŒ‰éˆ•
- `is_dialog_displayed()`: æª¢æŸ¥å°è©±æ¡†æ˜¯å¦é¡¯ç¤º
- `get_dialog_title()`: ç²å–å°è©±æ¡†æ¨™é¡Œ
- `click_confirm_adopt_button()`: é»æ“Šã€Œç¢ºèªé ˜é¤Šã€æŒ‰éˆ•
- `is_thank_you_message_displayed()`: é©—è­‰æ„Ÿè¬è¨Šæ¯æ˜¯å¦é¡¯ç¤º

## ğŸ¯ æ¸¬è©¦çµæœç¯„ä¾‹

```
ğŸš€ é–‹å§‹æ¸¬è©¦ï¼šå¯µç‰©é ˜é¤Šæµç¨‹
============================================================

ğŸ“ Step 1: å°èˆªåˆ°å¯µç‰©åˆ—è¡¨é é¢
âœ… æˆåŠŸé€²å…¥å¯µç‰©åˆ—è¡¨é é¢

ğŸ“ Step 2: é»æ“Šã€ŒæŸ¥çœ‹è©³ç´°è³‡è¨Šã€æŒ‰éˆ•
âœ… æˆåŠŸé»æ“Šã€ŒæŸ¥çœ‹è©³ç´°è³‡è¨Šã€æŒ‰éˆ•

ğŸ“ Step 3: é»æ“Šã€Œæˆ‘æƒ³é ˜é¤Šã€æŒ‰éˆ•
âœ… æˆåŠŸé»æ“Šã€Œæˆ‘æƒ³é ˜é¤Šã€æŒ‰éˆ•

ğŸ“ Step 4: é©—è­‰ç¢ºèªå°è©±æ¡†æ˜¯å¦é¡¯ç¤º
âœ… ç¢ºèªå°è©±æ¡†å·²é¡¯ç¤º
   å°è©±æ¡†æ¨™é¡Œ: ç¢ºèªé ˜é¤Š
âœ… å°è©±æ¡†æ¨™é¡Œæ­£ç¢º

ğŸ“ Step 5: é»æ“Šã€Œç¢ºèªé ˜é¤Šã€æŒ‰éˆ•
âœ… æˆåŠŸé»æ“Šã€Œç¢ºèªé ˜é¤Šã€æŒ‰éˆ•

ğŸ“ Step 6: é©—è­‰æ„Ÿè¬é ˜é¤Šè¨Šæ¯
âœ… æˆåŠŸé¡¯ç¤ºæ„Ÿè¬é ˜é¤Šè¨Šæ¯

============================================================
ğŸ‰ æ¸¬è©¦é€šéï¼šæ‰€æœ‰æ­¥é©Ÿéƒ½æˆåŠŸå®Œæˆï¼
============================================================
```

## ğŸ“š å»¶ä¼¸å­¸ç¿’

- [Selenium å®˜æ–¹æ–‡ä»¶](https://www.selenium.dev/documentation/)
- [Page Object Model è¨­è¨ˆæ¨¡å¼](https://www.selenium.dev/documentation/test_practices/encouraged/page_object_models/)
- [Python unittest æ¡†æ¶](https://docs.python.org/3/library/unittest.html)
